{% extends 'index.html' %}

{% load static %}

{% block content %}

<head>
    <title>Home</title>
    <link rel="shortcut icon" href="https://media.geeksforgeeks.org/wp-content/cdn-uploads/gfg_200X200.png"
        type="image/x-icon">
    <link rel="stylesheet" href="{% static 'styles/post_box.css' %}">
</head>

<style>
    a {
        text-decoration: none;
    }

    a:hover {
        text-decoration: none;
        cursor: pointer;
    }
</style>

<div class="wrapper">
    <div class="section">
        <div class="box-area">

            {% for post in posts %}
            {% if request.user.is_staff == False %}
            {% if post.branch == 'all' or post.branch == branch %}
            {% if post.year == 'all' or post.year == year %}
            <div onclick="location.href='/post/{{ post.id }}' " class="post">
                <div class="post-author">
                    <img src="https://cdn.icon-icons.com/icons2/1378/PNG/512/avatardefault_92824.png" alt="">
                    <div class="details">
                        <h2 style="font-size: 14px;">{{ post.author }}</h2>
                        <h2 style="font-size: 18px;"> {{ post.title }}</h2>
                        <h2 style="font-size: 12px;">{{ post.created }}</h2>
                        <h2 style="font-size: 10px; color: rgb(156, 152, 152);">{{ post.description }}</h2>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endif %}

            {% elif request.user == post.author %}
            <div onclick="location.href='/post/{{ post.id }}' " class="post">
                <div class="post-author">
                    <img src="https://cdn.icon-icons.com/icons2/1378/PNG/512/avatardefault_92824.png" alt="">
                    <div class="details">
                        <h2 style="font-size: 14px;">{{ post.author }}</h2>
                        <h2 style="font-size: 18px;"> {{ post.title }}</h2>
                        <h2 style="font-size: 12px;">{{ post.created }}</h2>
                        <h2 style="font-size: 10px; color: rgb(156, 152, 152);">{{ post.description }}</h2>
                        <a href="/update-post/{{ post.id }}">Edit</a>
                        <a href="/delete-post/{{ post.id }}">Delete</a>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endfor %}


        </div>
    </div>
</div>

{% endblock content %}